<!doctype html>
<html>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>true-signal</title>

    <link rel="stylesheet" href="stylesheets/tsstyless.css">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=yes">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <body>
    <div class = "signal">
      <canvas  id = "signal"></canvas>
    </div>
    </body>

    <script src="http://paperjs.org/assets/js/paper.js"></script>
    <script type = "text/paperscript" canvas="signal">
  
    var body = document.querySelector('body');
    var canvas = document.querySelector('canvas#signal');
    var div = document.querySelector('div');
    //view.viewSize = new Size(body.offsetWidth,body.offsetHeight);
    //fitToContainer(canvas,body);
    

function fitToContainer(canvas,body){
  canvas.width  = body.offsetWidth;
  canvas.height = body.offsetHeight;
}

view.viewSize = new Size(body.offsetWidth,body.offsetHeight);
console.log(view);
console.log(div);
console.log(canvas);
console.log(body.offsetWidth);
console.log(body.offsetHeight);

var trueText = new PointText({
    point: [.1*body.offsetWidth, .25*body.offsetHeight],
    content: 'true',
    fillColor: '#777',
    fontFamily: 'Lato',
    fontWeight: 100,
    fontSize: .1*body.offsetWidth
});

var signalText = new PointText({
    point: [.6*body.offsetWidth, .58*body.offsetHeight],
    content: 'signal',
    fillColor: '#777',
    fontFamily: 'Lato',
    fontWeight: 100,
    fontSize: .1*body.offsetWidth
});

    // The amount of segment points we want to create:
var amount = 6;
// The maximum height of the wave:
var height = body.offsetHeight / 3;

// Create a new path and style it:
var path = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

// Add 5 segment points to the path spread out
// over the width of the view:
for (var i = 0; i <= amount; i++) {
  path.add(new Point(i / amount, 1) * view.size);
}

var path2 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= amount; i++) {
  path2.add(new Point(i / amount, 1) * view.size);
}

var path3 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= amount*2; i++) {
  path3.add(new Point(i / 2 / amount, 1) * view.size);
}

var path4 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= amount; i++) {
  path4.add(new Point(i * 2 / amount, 1) * view.size);
}

var path5 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= amount; i++) {
  path5.add(new Point(i / amount, 1) * view.size);
}

var path6 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

// Add 5 segment points to the path spread out
// over the width of the view:
for (var i = 0; i <= amount; i++) {
  path6.add(new Point(i / amount, 1) * view.size);
}

var path7 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

// Add 5 segment points to the path spread out
// over the width of the view:
for (var i = 0; i <= amount; i++) {
  path7.add(new Point(i / amount, 1) * view.size);
}

var pathTS = new Path({
  // 80% black:
  strokeColor: [0.4],
  // strokeWidth: 30,
  strokeCap: 'square'
});

// Add 5 segment points to the path spread out
// over the width of the view:
for (var i = 0; i <= 10; i++) {
  pathTS.add(new Point(i / 10, 1) * view.size);
}

// Select the path, so we can see how it is constructed:
//path.selected = true;

function onFrame(event) {
  // Loop through the segments of the path:

    if (event.count < 300) {
        
    for (var i = 0; i <= amount; i++) {
    var segment = path.segments[i];

    // A cylic value between -1 and 1
    var sinus = Math.sin(event.time * 3 + i);
    
    // Change the y position of the segment point:
    segment.point.y = sinus * height / 2 + 200;
    segment.smooth();
    if (event.count == 299) {
      path.remove();
    }
  }

  for (var i = 0; i <= amount; i++) {
    var segment2 = path2.segments[i];

    // A cylic value between -1 and 1
    var cosinus = Math.cos(event.time * 3 + i);
    
    // Change the y position of the segment point:
    segment2.point.y = cosinus * height * ((event.time-1) % 2)  + 200;
    segment2.smooth();
    if (event.count == 250) {
      path2.remove();
    }
  }
  
  for (var i = 0; i <= amount*2; i++) {
    var segment3 = path3.segments[i];

    // A cylic value between -1 and 1
    var fourier = Math.sin(event.time * 5 + amount - i) + Math.cos(event.time * 5 + amount - i);
    // Change the y position of the segment point:
    segment3.point.y = fourier * height * ((event.time-1) % 2)  + 200;
    segment3.smooth();
    if (event.count == 275) {
      path3.remove();
        }
    }
  
  for (var i = 0; i <= amount; i++) {
    var segment4 = path4.segments[i];

    // A cylic value between -1 and 1
    var fourier1 = Math.sin(event.time * 7 + i) + Math.cos(1/event.time * 7 + i);
    
    // Change the y position of the segment point:
    segment4.point.y = fourier1 * height * (event.time % 2)  + 200;
    segment4.smooth();
    if (event.count == 280) {
      path4.remove();
    }
  }
  
  for (var i = 0; i <= amount; i++) {
    var segment5 = path5.segments[i];

    // A cylic value between -1 and 1
    var fourier2 = Math.cos(1/event.time * 5 + i) + Math.sin(event.time * 5 - amount + i);
    
    // Change the y position of the segment point:
    segment5.point.y = fourier2 * height * ((event.time-1) % 2)  + 200;
    segment5.smooth();
    if (event.count == 290) {
      path5.remove();
    }
  }

  for (var i = 0; i <= amount; i++) {
    var segment6 = path6.segments[i];

    // A cylic value between -1 and 1
    var sinus = Math.sin(i + event.time % 7);
    
    // Change the y position of the segment point:
    segment6.point.y = sinus * height / 2 + 200;
    segment6.smooth();
    if (event.count == 295) {
      path6.remove();
    }
  }
        
    for (var i = amount; i >= 0; i--) {
    var segment7 = path7.segments[i];

    // A cylic value between -1 and 1
    var sinus = Math.sin(event.time * 5 + i);
    
    // Change the y position of the segment point:
    segment7.point.y = sinus * height / 2 + 200;
    segment7.smooth();
    if (event.count == 299) {
      path7.remove();
    }
  }

  for (var i = 0; i <= 10; i++) {
    var segmentTS = pathTS.segments[i];
    // A cylic value between -1 and 1
    var TS = Math.sin(event.time + (i*.5-1))*(i*.5-1);
    segmentTS.point.y = TS * height / 3  + height / 1.3;
    segmentTS.smooth();
  }
  
}

    if (event.count >= 300 && event.count < 330) {

  for (var i = 0; i <= 10; i++) {
    var segmentTS = pathTS.segments[i];
    // A cylic value between -1 and 1
    var TS = Math.sin(event.time + (i*.5-1))*(i*.5-1);
    segmentTS.point.y = TS * height / 3.2  + height / 1.3;
    segmentTS.smooth();
  }
        //path.remove();
        // if (event.count % 350 == 0) {
        //   path2.remove();
        // }
        // path3.remove();
        // path4.remove();
        // path5.remove();
        // underline.remove();
        // view.viewSize = new Size(canvas.offsetWidth,canvas.offsetHeight);
    // } 
        
    }
}

    </script>
      <footer>
        <p> <a href="mailto:info@truesignalpartners.com">email us.</a></p>
      </footer>
    </div>

<!--   </body> -->
</html>