<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>true-signal</title>

    <link rel="stylesheet" href="stylesheets/tsstyless.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class = "signal">
      <canvas  id = "signal"></canvas>
    </div>
<!--     <div class = "logo-true"> true </div> -->
<!--     <div class = "logo-signal"> signal </div> -->
  </body>

    <script src="http://paperjs.org/assets/js/paper.js"></script>
    <script type = "text/paperscript" canvas="signal">

    var canvas = document.querySelector('canvas');
    var div = document.querySelector('div');
    fitToContainer(canvas,div);

  function fitToContainer(canvas,div){
  // Make it visually fill the positioned parent
  canvas.style.width ='100%';
  canvas.style.height='100%';
  // ...then set the internal size to match
  canvas.width  = div.offsetWidth;
  canvas.height = div.offsetHeight;
}

// function fitToContainer(canvas){
//   // Make it visually fill the positioned parent
//   canvas.style.width ='100%';
//   canvas.style.height='100%';
//   // ...then set the internal size to match
//   canvas.width  = canvas.offsetWidth;
//   canvas.height = canvas.offsetHeight;
//   // cavnas.width = 500px;
// }

view.viewSize = new Size(canvas.offsetWidth,canvas.offsetHeight);
    // The amount of segment points we want to create:
var amount = 6;
// The maximum height of the wave:
var height = 60;

// Create a new path and style it:
var path = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

// Add 5 segment points to the path spread out
// over the width of the view:
for (var i = 0; i <= amount; i++) {
  path.add(new Point(i / amount, 1) * view.size);
}
var path2 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= amount; i++) {
  path2.add(new Point(i / amount, 1) * view.size);
}

var path3 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= amount*2; i++) {
  path3.add(new Point(i / 2 / amount, 1) * view.size);
}

var path4 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= amount; i++) {
  path4.add(new Point(i * 2 / amount, 1) * view.size);
}

var path5 = new Path({
  // 80% black:
  strokeColor: [0.6],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= 10; i++) {
  path5.add(new Point(i / 10, 1) * view.size);
}

var text = new PointText({
    point: [.05*canvas.width, .17*canvas.height],
    content: 'true',
    fillColor: '#777',
    fontFamily: 'Lato',
    fontWeight: 300,
    fontSize: .05*canvas.width
});

var text = new PointText({
    point: [.3*canvas.width, .47*canvas.height],
    content: 'signal',
    fillColor: '#777',
    fontFamily: 'Lato',
    fontWeight: 300,
    fontSize: .05*canvas.width
});


function onFrame(event) {
  // Loop through the segments of the path:

    if (event.count < 300) {
        
    for (var i = 0; i <= amount; i++) {
    var segment = path.segments[i];

    // A cylic value between -1 and 1
    var sinus = Math.sin(event.time * 3 + i);
    
    // Change the y position of the segment point:
    segment.point.y = sinus * height * (event.time % 2) + canvas.offsetHeight/2;
    segment.smooth();
  }
  // view.viewSize = new Size(700,400);
  // console.log(view.size);
  for (var i = 0; i <= amount; i++) {
    var segment2 = path2.segments[i];

    // A cylic value between -1 and 1
    var cosinus = Math.cos(event.time * 3 + i);
    
    // Change the y position of the segment point:
    segment2.point.y = cosinus * height * ((event.time-1) % 2)  + canvas.offsetHeight/2;
    segment2.smooth();
  }
  
  for (var i = 0; i <= amount*2; i++) {
    var segment3 = path3.segments[i];

    // A cylic value between -1 and 1
    var fourier = Math.sin(event.time * 5 + amount - i) + Math.cos(event.time * 5 + amount - i);
    // Change the y position of the segment point:
    segment3.point.y = fourier * height * ((event.time-1) % 2)  + 100;
    segment3.smooth();
  }
  
  for (var i = 0; i <= amount; i++) {
    var segment4 = path4.segments[i];

    // A cylic value between -1 and 1
    var fourier1 = Math.sin(event.time * 5 + amount - i) + Math.cos(event.time * 5 + amount - i);
    
    // Change the y position of the segment point:
    segment4.point.y = fourier1 * height * ((event.time-1) % 2)  + canvas.offsetHeight/2;
    segment4.smooth();
  }
  
  for (var i = 0; i <= 10; i++) {
    var segment5 = path5.segments[i];

    // A cylic value between -1 and 1
    var fourier2 = Math.cos(1/event.time * 5 + i) + Math.sin(event.time * 5 - amount + i);
    
    // Change the y position of the segment point:
    segment5.point.y = fourier2 * height * ((event.time-1) % 2)  + canvas.offsetHeight/2;
    segment5.smooth();
  }
  
    }

    if (event.count >= 300) {
        path.remove();
        path2.remove();
        path3.remove();
        path4.remove();

  for (var i = 0; i <= 10; i++) {
    var segmentTS = path5.segments[i];
    // A cylic value between -1 and 1
    var TS = Math.sin((i*.5-1))*(i*.5-1);
    segmentTS.point.y = TS * height *1.25  + canvas.offsetHeight/3;
    segmentTS.smooth();
  }
        
    }
}

    </script>
      <footer>
        <p> <a href="mailto:info@truesignalpartners.com">email us.</a></p>
      </footer>
    </div>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-58251913-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

<!--   </body> -->
</html>