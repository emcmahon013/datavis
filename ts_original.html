<!doctype html>
<html>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>true-signal</title>

    <link rel="stylesheet" href="stylesheets/tsstyless.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <body>
    <div class = "signal">
      <canvas  id = "signal"></canvas>
    </div>
    </body>

    <script src="http://paperjs.org/assets/js/paper.js"></script>
    <script type = "text/paperscript" canvas="signal">


    var canvas = document.querySelector('canvas#signal');
    var div = document.querySelector('div');
    view.viewSize = new Size(div.offsetWidth*.4,div.offsetHeight);
    fitToContainer(canvas,div);
    

function fitToContainer(canvas,div){
  // Make it visually fill the positioned parent
  canvas.style.width ='100%';
  canvas.style.height='100%';
  // ...then set the internal size to match
  canvas.width  = div.offsetWidth/1.2;
  canvas.height = div.offsetHeight;
}

// view.viewSize = new Size(canvas.offsetWidth*.65,canvas.offsetHeight*.65);

var text = new PointText({
    point: [.1*canvas.width, .25*canvas.height],
    content: 'true',
    fillColor: '#777',
    fontFamily: 'Lato',
    fontWeight: 200,
    fontSize: .1*canvas.width
});

var text = new PointText({
    point: [.55*canvas.width, .65*canvas.height],
    content: 'signal',
    fillColor: '#777',
    fontFamily: 'Lato',
    fontWeight: 200,
    fontSize: .1*canvas.width
});

    // The amount of segment points we want to create:
var amount = 6;
// The maximum height of the wave:
var height = 60;

// Create a new path and style it:
var path = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

// Add 5 segment points to the path spread out
// over the width of the view:
for (var i = 0; i <= amount; i++) {
  path.add(new Point(i / amount, 1) * view.size);
}
var path2 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= amount; i++) {
  path2.add(new Point(i / amount, 1) * view.size);
}

var path3 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= amount*2; i++) {
  path3.add(new Point(i / 2 / amount, 1) * view.size);
}

var path4 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= amount; i++) {
  path4.add(new Point(i * 2 / amount, 1) * view.size);
}

var path5 = new Path({
  // 80% black:
  strokeColor: [0.8],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= amount; i++) {
  path5.add(new Point(i / amount, 1) * view.size);
}

var pathTS = new Path({
//  100% black:
  strokeColor: [0],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= 10; i++) {
  pathTS.add(new Point(i / 10, 1) * view.size);
}

var underline = new Path({
//  100% black:
  strokeColor: [0],
  // strokeWidth: 30,
  strokeCap: 'square'
});

for (var i = 0; i <= 10; i++) {
  underline.add(new Point(i / 10, 1) * view.size);
}

// Select the path, so we can see how it is constructed:
// pathTS.selected = true;

function onFrame(event) {
  // Loop through the segments of the path:

    if (event.count < 300) {
        
    for (var i = 0; i <= amount; i++) {
    var segment = path.segments[i];

    // A cylic value between -1 and 1
    var sinus = Math.sin(event.time * 3 + i);
    
    // Change the y position of the segment point:
    segment.point.y = sinus * height * (event.time % 2) + 50;
    segment.smooth();
  }
  // view.viewSize = new Size(700,400);
  // console.log(view.size);
  for (var i = 0; i <= amount; i++) {
    var segment2 = path2.segments[i];

    // A cylic value between -1 and 1
    var cosinus = Math.cos(event.time * 3 + i);
    
    // Change the y position of the segment point:
    segment2.point.y = cosinus * height * ((event.time-1) % 2)  + 50;
    segment2.smooth();
  }
  
  for (var i = 0; i <= amount*2; i++) {
    var segment3 = path3.segments[i];

    // A cylic value between -1 and 1
    var fourier = Math.sin(event.time * 5 + amount - i) + Math.cos(event.time * 5 + amount - i);
    // Change the y position of the segment point:
    segment3.point.y = fourier * height * ((event.time-1) % 2)  + 50;
    segment3.smooth();
  }
  
  for (var i = 0; i <= amount; i++) {
    var segment4 = path4.segments[i];

    // A cylic value between -1 and 1
    var fourier1 = Math.sin(event.time * 5 + amount - i) + Math.cos(event.time * 5 + amount - i);
    
    // Change the y position of the segment point:
    segment4.point.y = fourier1 * height * ((event.time-1) % 2)  + 50;
    segment4.smooth();
  }
  
  for (var i = 0; i <= amount; i++) {
    var segment5 = path5.segments[i];

    // A cylic value between -1 and 1
    var fourier2 = Math.cos(1/event.time * 5 + i) + Math.sin(event.time * 5 - amount + i);
    
    // Change the y position of the segment point:
    segment5.point.y = fourier2 * height * ((event.time-1) % 2)  + 50;
    segment5.smooth();
  }
  // console.log(view.size);
  // console.log(canvas.offsetHeight);
  
    }

    if (event.count >= 300) {
        path.remove();
        path2.remove();
        path3.remove();
        path4.remove();
        path5.remove();
        // underline.remove();
        // view.viewSize = new Size(canvas.offsetWidth,canvas.offsetHeight);
    // } 
  // view.viewSize = new Size(300,500);
  for (var i = 0; i <= 10; i++) {
    var segmentTS = pathTS.segments[i];
    // A cylic value between -1 and 1
    var TS = Math.sin((i*.5-1))*(i*.5-1);
    segmentTS.point.y = TS * height/2  + 95;
    segmentTS.smooth();
  }
        
    }
}
// function onResize(event) {
//   // Whenever the window is resized, recenter the path:
//   path.position = view.center;
// }

    </script>
<!--     <div class="wrapper"> -->
<!--       <header>
        <h1>Data Bites</h1> 
        <h3>Consumable Visualizations</h3>
        <p class "view">
      Not everyone loves stats, but most of us like a good story or at least a good picture.  Here are a few of mine.    
      </p>
      </header> -->
      <!-- <section>
<a id="datavis" class="anchor" href="#datavis" aria-hidden="true"><span class="octicon octicon-link"></span></a>data vis+.
       <a id="density" href="/density_visualize/density.html" aria-hidden="true" ><img src="/density_visualize/assets/density.png" alt="density"><span class="octicon octicon-link"></span></a>
        <a id="tempvis" href="/weradiateny/tempvis.html" aria-hidden="true" ><img src="/weradiateny/assets/tempvis.png" alt="tempvis"><span class="octicon octicon-link"></span></a>
      </p>
  <a id="resvis" class="anchor" href="#resvis" aria-hidden="true"><span class="octicon octicon-link"></span></a>(resu)me in vis.<br>
        <a id="sankey" href="/datavis/sankey.html" aria-hidden="true" ><img src="/datavis/assets/sankey/sankey.png" alt="sankey"><span class="octicon octicon-link"></span></a>
         <a id="calendar" href="/datavis/calendar.html" aria-hidden="true" ><img src="/datavis/assets/distday/calendar.png" alt="calendar"><span class="octicon octicon-link"></span></a>
        <a id="burst" href="/datavis/sunburst.html" aria-hidden="true" ><img src="/datavis/assets/sunburst/sunburst.png" alt="burst"><span class="octicon octicon-link"></span></a>
      </section> -->
      <footer>
        <p> <a href="mailto:eric@truesignalpartners.com">email us.</a></p>
      </footer>
    </div>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-58251913-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

<!--   </body> -->
</html>